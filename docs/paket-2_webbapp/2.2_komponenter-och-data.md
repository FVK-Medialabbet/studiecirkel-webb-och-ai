# 2.2 JavaScript i webbläsaren – data och listor

<p align="left">
  <img src="../assets/images/modules/p2-22-components-data.svg"
       alt="Illustration: komponenter och data i frontend"
       width="320" />
</p>

I den här modulen fokuserar vi på **JavaScript i webbläsaren** – utan att blanda in riktiga API:er ännu.

Vi låter JavaScript hålla ordning på en **lista med data** och visar den i HTML.

Tänk t.ex. en enkel **aktivitetslista**:

- JavaScript har en array med aktiviteter  
- sidan visar listan  
- du kan lägga till en aktivitet via ett formulär

---

## Mål

Efter modulen ska du:

- förstå hur en enkel lista kan lagras i JavaScript (array av objekt)  
- kunna skriva eller ändra kod som:
  - går igenom listan  
  - bygger HTML (t.ex. `<li>`-element)  
- ha sett hur ett **formulär** kan fånga upp värden och lägga till i listan

---

## Steg 1 – Grundstruktur i HTML

Utgå gärna från en kopia av din sida från Paket 1 eller skapa en testfil, t.ex. `aktiviteter.html`.

En enkel struktur kan se ut så här:

```html
<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <title>Aktivitetslista</title>
  </head>
  <body>
    <h1>Mina aktiviteter</h1>

    <ul id="activity-list">
      <!-- listan fylls av JavaScript -->
    </ul>

    <h2>Lägg till aktivitet</h2>
    <form id="activity-form">
      <label>
        Namn:
        <input type="text" id="activity-name" required />
      </label>
      <br />
      <label>
        Plats:
        <input type="text" id="activity-place" required />
      </label>
      <br />
      <button type="submit">Lägg till</button>
    </form>

    <script src="app.js"></script>
  </body>
</html>
```

Här ser du:

- en tom lista (`<ul id="activity-list">`)  
- ett formulär (`<form id="activity-form">`)  

JavaScript-filen `app.js` kommer att:

- hålla ordning på en array med aktiviteter  
- fylla listan med `<li>`-element  
- reagera när formuläret skickas in

---

## Steg 2 – Data i JavaScript

Skapa en fil `app.js` i samma mapp:

```js
// En lista (array) med några exempelaktiviteter
let activities = [
  { name: "Promenad i Slottsskogen", place: "Göteborg" },
  { name: "Bordtennis", place: "Hisingen" }
];

// Funktion för att rita ut listan i HTML
function renderActivities() {
  const list = document.getElementById("activity-list");
  list.innerHTML = ""; // töm nuvarande innehåll

  for (const activity of activities) {
    const li = document.createElement("li");
    li.textContent = activity.name + " – " + activity.place;
    list.appendChild(li);
  }
}

// Kör när sidan laddas
renderActivities();
```

Förklara i grupp:

- `let activities = [...]` är vår **data**  
- `renderActivities()`:
  - tar fram `<ul>`-elementet
  - tömmer det
  - skapar ett `<li>` per aktivitet

---

## Steg 3 – Lägga till aktivitet från formulär

Lägg till i `app.js`:

```js
const form = document.getElementById("activity-form");

form.addEventListener("submit", (event) => {
  event.preventDefault(); // stoppa standard-beteendet (ladda om sidan)

  const nameInput = document.getElementById("activity-name");
  const placeInput = document.getElementById("activity-place");

  const newActivity = {
    name: nameInput.value,
    place: placeInput.value
  };

  activities.push(newActivity);    // lägg till i listan
  renderActivities();              // rita om listan

  form.reset();                    // töm formuläret
});
```

Nu händer detta:

1. Användaren fyller i formuläret och klickar “Lägg till”.  
2. JavaScript stoppar sidans standardbeteende (`event.preventDefault()`).  
3. Värden från fälten läggs i `newActivity`.  
4. `newActivity` läggs in i `activities` med `activities.push(...)`.  
5. `renderActivities()` ritar om listan.  

---

## Övningar

### 1. Lägg till fler fält

- Lägg till t.ex. “tid” eller “dag” i formuläret  
- uppdatera `newActivity` och `renderActivities()` så det visas

### 2. Visa antal aktiviteter

- Lägg till ett `<p id="count"></p>` i HTML  
- skriv en funktion som uppdaterar texten till t.ex.  
  “Antal aktiviteter: 3” varje gång listan ritas om

### 3. Ta bort allt och börja från tom lista

- Testa att börja med `let activities = [];`  
- Lägg bara till via formuläret  
- Se hur appen ändå funkar

---

## Tips

- Påminn deltagarna att JavaScript-kod ofta är **svår att läsa första gångerna** – det är helt normalt.  
- Fokusera på att förstå **idén**:
  - vi har en lista i koden  
  - vi ritar upp listan i HTML  
  - när listan ändras, ritar vi om
